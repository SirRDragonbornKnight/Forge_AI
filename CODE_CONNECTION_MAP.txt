================================================================================
                    FORGEAI - CONNECTION MAP
================================================================================
              "How Every File Connects to Every Other File"
================================================================================

This document shows you HOW files talk to each other - like a subway map
for code! Follow the lines to see data flow.


================================================================================
                    ğŸš‚ THE MAIN TRAIN LINE (Startup Flow)
================================================================================

                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚   run.py    â”‚  â† YOU START HERE
                              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚                         â”‚                         â”‚
           â–¼                         â–¼                         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  --train     â”‚         â”‚   --gui      â”‚         â”‚  --serve     â”‚
    â”‚              â”‚         â”‚              â”‚         â”‚              â”‚
    â”‚ training.py  â”‚         â”‚ enhanced_    â”‚         â”‚ api_server   â”‚
    â”‚              â”‚         â”‚ window.py    â”‚         â”‚     .py      â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                         â”‚                         â”‚
           â”‚                         â”‚                         â”‚
           â–¼                         â–¼                         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  model.py    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”¤ inference.py â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ inference.py â”‚
    â”‚  tokenizer   â”‚         â”‚  â–²      â–²    â”‚         â”‚              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚  â”‚      â”‚    â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚  â”‚      â”‚    â”‚
                      â”Œâ”€â”€â”€â”€â”€â”€â”˜  â”‚      â””â”€â”€â”€â”€â”€â”€â”
                      â”‚         â”‚             â”‚
                      â–¼         â–¼             â–¼
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚ tabs/*.pyâ”‚ â”‚memory/ â”‚ â”‚tool_router  â”‚
               â”‚          â”‚ â”‚        â”‚ â”‚    .py      â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


================================================================================
                    ğŸ§  THE BRAIN NETWORK (forge_ai/core/)
================================================================================

                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚    model.py         â”‚
                         â”‚    â•â•â•â•â•â•â•          â”‚
                         â”‚  Forge class        â”‚
                         â”‚  ForgeConfig        â”‚
                         â”‚  create_model()     â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                     â”‚                     â”‚
              â–¼                     â–¼                     â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  training.py    â”‚   â”‚  inference.py   â”‚   â”‚ model_registry  â”‚
     â”‚  â•â•â•â•â•â•â•â•â•â•â•    â”‚   â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚   â”‚     .py         â”‚
     â”‚  train_model()  â”‚   â”‚  ForgeEngine    â”‚   â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
     â”‚  Trainer class  â”‚   â”‚  - generate()   â”‚   â”‚  ModelRegistry  â”‚
     â”‚                 â”‚   â”‚  - chat()       â”‚   â”‚  manages multi  â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  - stream_gen() â”‚   â”‚  models         â”‚
              â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                     â”‚
              â”‚                     â”‚
              â–¼                     â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  tokenizer.py   â”‚   â”‚  tool_router.py â”‚
     â”‚  â•â•â•â•â•â•â•â•â•â•â•    â”‚   â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
     â”‚  get_tokenizer()â”‚   â”‚  ToolRouter     â”‚
     â”‚  text â†” numbers â”‚   â”‚  auto_route()   â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  execute_tool() â”‚
                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
                           â–¼                 â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ tools/*.py â”‚    â”‚ tabs/*.py  â”‚
                    â”‚ (actions)  â”‚    â”‚ (gen tabs) â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


================================================================================
                    ğŸ–¥ï¸ THE GUI KINGDOM (forge_ai/gui/)
================================================================================

                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚      enhanced_window.py           â”‚
                    â”‚      â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•           â”‚
                    â”‚      EnhancedMainWindow           â”‚
                    â”‚      - Setup wizard               â”‚
                    â”‚      - Tab container              â”‚
                    â”‚      - Theme system               â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚        â”‚        â”‚        â”‚       â”‚       â”‚        â”‚        â”‚        â”‚
     â–¼        â–¼        â–¼        â–¼       â–¼       â–¼        â–¼        â–¼        â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”
  â”‚chat_ â”‚â”‚image_â”‚â”‚code_ â”‚â”‚video_â”‚â”‚audio_â”‚â”‚threedâ”‚â”‚avatarâ”‚â”‚modulesâ”‚â”‚settingsâ”‚
  â”‚tab.pyâ”‚â”‚tab.pyâ”‚â”‚tab.pyâ”‚â”‚tab.pyâ”‚â”‚tab.pyâ”‚â”‚_tab  â”‚â”‚_tab  â”‚â”‚_tab   â”‚â”‚_tab   â”‚
  â””â”€â”€â”¬â”€â”€â”€â”˜â””â”€â”€â”¬â”€â”€â”€â”˜â””â”€â”€â”¬â”€â”€â”€â”˜â””â”€â”€â”¬â”€â”€â”€â”˜â””â”€â”€â”¬â”€â”€â”€â”˜â””â”€â”€â”¬â”€â”€â”€â”˜â””â”€â”€â”¬â”€â”€â”€â”˜â””â”€â”€â”¬â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚       â”‚       â”‚       â”‚       â”‚       â”‚       â”‚       â”‚
     â”‚       â”‚       â”‚       â”‚       â”‚       â”‚       â”‚       â”‚
     â–¼       â–¼       â–¼       â–¼       â–¼       â–¼       â–¼       â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                     forge_ai/core/                           â”‚
  â”‚  inference.py â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚
  â”‚  tool_router.py â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


WHAT EACH TAB IMPORTS:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

chat_tab.py
    â”œâ”€â”€â–º forge_ai/core/inference.py    (ForgeEngine for responses)
    â”œâ”€â”€â–º forge_ai/memory/manager.py    (save conversations)
    â””â”€â”€â–º forge_ai/voice/               (optional TTS)

image_tab.py
    â”œâ”€â”€â–º Local providers (StableDiffusionLocal)
    â”œâ”€â”€â–º Cloud providers (OpenAIImage, ReplicateImage)
    â””â”€â”€â–º forge_ai/builtin/             (fallback generator)

code_tab.py
    â”œâ”€â”€â–º forge_ai/core/inference.py    (ForgeCode)
    â””â”€â”€â–º Cloud providers (OpenAICode)

avatar_tab.py
    â”œâ”€â”€â–º forge_ai/avatar/controller.py (AvatarController)
    â””â”€â”€â–º forge_ai/avatar/autonomous.py (AutonomousAvatar)

modules_tab.py
    â””â”€â”€â–º forge_ai/modules/manager.py   (ModuleManager)


================================================================================
                    âš™ï¸ THE MODULE SYSTEM (forge_ai/modules/)
================================================================================

                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚         manager.py                â”‚
                    â”‚         â•â•â•â•â•â•â•â•â•â•                â”‚
                    â”‚         ModuleManager             â”‚
                    â”‚         - load(module_id)         â”‚
                    â”‚         - unload(module_id)       â”‚
                    â”‚         - get_module(id)          â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                         LOADS FROM     â”‚     CHECKS
                                        â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚         registry.py               â”‚
                    â”‚         â•â•â•â•â•â•â•â•â•â•â•â•              â”‚
                    â”‚         Module Definitions:       â”‚
                    â”‚         - ModelModule             â”‚
                    â”‚         - TokenizerModule         â”‚
                    â”‚         - ImageGenLocalModule     â”‚
                    â”‚         - ImageGenAPIModule       â”‚
                    â”‚         - CodeGenModule           â”‚
                    â”‚         - AudioGenModule          â”‚
                    â”‚         - etc...                  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
              EACH MODULE WRAPS         â”‚
                                        â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚                                                              â”‚
     â”‚   core/model.py â—„â”€â”€ ModelModule                             â”‚
     â”‚   core/tokenizer.py â—„â”€â”€ TokenizerModule                     â”‚
     â”‚   gui/tabs/image_tab.py â—„â”€â”€ ImageGenLocalModule             â”‚
     â”‚   gui/tabs/code_tab.py â—„â”€â”€ CodeGenModule                    â”‚
     â”‚   gui/tabs/video_tab.py â—„â”€â”€ VideoGenModule                  â”‚
     â”‚                                                              â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


MODULE CONFLICT RULES:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  âœ— CANNOT load together (they conflict):
  
     image_gen_local â—„â”€â”€â”€Xâ”€â”€â”€â–º image_gen_api
     code_gen_local  â—„â”€â”€â”€Xâ”€â”€â”€â–º code_gen_api
     video_gen_local â—„â”€â”€â”€Xâ”€â”€â”€â–º video_gen_api
     
  âœ“ MUST load dependencies first:
  
     inference â”€â”€â”€REQUIRESâ”€â”€â”€â–º model
     inference â”€â”€â”€REQUIRESâ”€â”€â”€â–º tokenizer
     gui       â”€â”€â”€REQUIRESâ”€â”€â”€â–º inference


================================================================================
                    ğŸ’¾ THE MEMORY VAULT (forge_ai/memory/)
================================================================================

        USER MESSAGE
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Chat Tab     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚              manager.py                        â”‚
    â”‚              â•â•â•â•â•â•â•â•â•â•                        â”‚
    â”‚              ConversationManager               â”‚
    â”‚                                                â”‚
    â”‚   save_conversation(name, messages)            â”‚
    â”‚         â”‚                    â”‚                 â”‚
    â”‚         â–¼                    â–¼                 â”‚
    â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
    â”‚   â”‚  JSON    â”‚        â”‚  vector_db   â”‚       â”‚
    â”‚   â”‚  FILE    â”‚        â”‚    .py       â”‚       â”‚
    â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
    â”‚        â”‚                     â”‚                â”‚
    â”‚        â–¼                     â–¼                â”‚
    â”‚   data/conv/          embeddings for         â”‚
    â”‚   *.json              semantic search        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    

MEMORY COMPONENTS:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  manager.py â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º ConversationManager
       â”‚                 (saves/loads full conversations)
       â”‚
       â””â”€â”€â”€â”€â”€â”€â–º memory_db.py â”€â”€â–º add_memory(), search_memory()
                                 (individual facts)
       â”‚
       â””â”€â”€â”€â”€â”€â”€â–º vector_db.py â”€â”€â–º SimpleVectorDB, FAISSVectorDB
                                 (semantic similarity search)
       â”‚
       â””â”€â”€â”€â”€â”€â”€â–º embeddings.py â”€â–º Convert text to vectors


================================================================================
                    ğŸŒ THE NETWORK (forge_ai/comms/)
================================================================================

                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚        api_server.py              â”‚
                    â”‚        â•â•â•â•â•â•â•â•â•â•â•â•â•â•             â”‚
                    â”‚        Flask REST API             â”‚
                    â”‚                                   â”‚
                    â”‚   GET  /health                    â”‚
                    â”‚   GET  /info                      â”‚
                    â”‚   POST /generate â—„â”€â”€â”€â”           â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚  â”‚
                              USES      â”‚  â”‚  CALLED BY
                                        â–¼  â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚      inference.py     â”‚           â”‚
                    â”‚      ForgeEngine â”€â”€â”€â”€â”€â”˜           â”‚
                    â”‚      .generate()                  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


MULTI-DEVICE SETUP:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚    PC #1     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚    PC #2     â”‚
     â”‚  ForgeNode   â”‚ network â”‚  ForgeNode   â”‚
     â”‚              â”‚   .py   â”‚              â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                        â”‚
            â”‚    discovery.py        â”‚
            â”‚    (auto-find)         â”‚
            â”‚                        â”‚
            â–¼                        â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚         memory_sync.py               â”‚
     â”‚   (sync conversations across devices)â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


================================================================================
                    ğŸ”§ THE TOOLS (forge_ai/tools/)
================================================================================

                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚       tool_router.py              â”‚ â—„â”€â”€ in core/
                    â”‚       â•â•â•â•â•â•â•â•â•â•â•â•â•â•              â”‚
                    â”‚       "Draw me a cat"             â”‚
                    â”‚              â”‚                    â”‚
                    â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”            â”‚
                    â”‚       â”‚  KEYWORDS   â”‚            â”‚
                    â”‚       â”‚  "draw" â†’   â”‚            â”‚
                    â”‚       â”‚  IMAGE tool â”‚            â”‚
                    â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                         DISPATCHES TO  â”‚
                                        â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚       tool_executor.py            â”‚
                    â”‚       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•            â”‚
                    â”‚       ToolExecutor                â”‚
                    â”‚       - parse JSON tool call      â”‚
                    â”‚       - validate parameters       â”‚
                    â”‚       - execute with timeout      â”‚
                    â”‚       - return results            â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚               â”‚              â”‚              â”‚               â”‚
         â–¼               â–¼              â–¼              â–¼               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚vision.pyâ”‚    â”‚web_     â”‚    â”‚file_    â”‚    â”‚browser_ â”‚    â”‚robot_   â”‚
    â”‚         â”‚    â”‚tools.py â”‚    â”‚tools.py â”‚    â”‚tools.py â”‚    â”‚tools.py â”‚
    â”‚ screen  â”‚    â”‚ search  â”‚    â”‚ read    â”‚    â”‚ click   â”‚    â”‚ move    â”‚
    â”‚ capture â”‚    â”‚ fetch   â”‚    â”‚ write   â”‚    â”‚ type    â”‚    â”‚ sense   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


TOOL DEFINITION EXAMPLE:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    tool_definitions.py defines:
    
    {
        "name": "web_search",
        "description": "Search the web",
        "parameters": {
            "query": "What to search for"
        },
        "handler": web_tools.search
    }


================================================================================
                    ğŸ­ THE AVATAR (forge_ai/avatar/)
================================================================================

                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚       controller.py               â”‚
                    â”‚       â•â•â•â•â•â•â•â•â•â•â•â•â•               â”‚
                    â”‚       AvatarController            â”‚
                    â”‚       get_avatar()                â”‚
                    â”‚       - enable()                  â”‚
                    â”‚       - move_to(x, y)             â”‚
                    â”‚       - set_expression(mood)      â”‚
                    â”‚       - speak(text)               â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                         â”‚                         â”‚
              â–¼                         â–¼                         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  autonomous.py  â”‚       â”‚ animation_      â”‚       â”‚   lip_sync.py   â”‚
    â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”‚       â”‚ system.py       â”‚       â”‚   â•â•â•â•â•â•â•â•â•â•â•   â”‚
    â”‚  AutonomousAvatar       â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚       â”‚  sync mouth to  â”‚
    â”‚  - screen watch â”‚       â”‚  movement       â”‚       â”‚  speech audio   â”‚
    â”‚  - idle actions â”‚       â”‚  transitions    â”‚       â”‚                 â”‚
    â”‚  - mood changes â”‚       â”‚                 â”‚       â”‚                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â”‚
              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  desktop_pet.py â”‚
    â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”‚
    â”‚  Window overlay â”‚
    â”‚  on desktop     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


AUTONOMOUS BEHAVIOR FLOW:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Screen     â”‚
    â”‚   Content    â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Screen Scanner  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   Mood System    â”‚
    â”‚  (every 5 sec)   â”‚         â”‚   HAPPY, BORED   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚   CURIOUS, etc   â”‚
                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                          â”‚
                                          â–¼
                                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                 â”‚  Avatar Actions  â”‚
                                 â”‚  - look around   â”‚
                                 â”‚  - idle animate  â”‚
                                 â”‚  - react         â”‚
                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


================================================================================
                    ğŸ”Š THE VOICE (forge_ai/voice/)
================================================================================

TEXT-TO-SPEECH FLOW:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    AI Response Text
          â”‚
          â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ voice_generator  â”‚ â—„â”€â”€ AIVoiceGenerator
    â”‚      .py         â”‚     creates voice from
    â”‚                  â”‚     personality traits
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   tts_simple.py  â”‚ â—„â”€â”€ speak(text)
    â”‚   or             â”‚     using pyttsx3
    â”‚   natural_tts.py â”‚     or advanced TTS
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
        ğŸ”Š Audio Out


SPEECH-TO-TEXT FLOW:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

        ğŸ¤ Microphone
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    listener.py   â”‚ â—„â”€â”€ VoiceListener
    â”‚       or         â”‚
    â”‚  whisper_stt.py  â”‚ â—„â”€â”€ Whisper model
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   User Text      â”‚â”€â”€â”€â”€â–º Chat/Inference
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


================================================================================
                    ğŸ“Š COMPLETE DATA FLOW
================================================================================

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                         FULL REQUEST LIFECYCLE                        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    
    USER INPUT (text or voice)
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ GUI Chat Tab    â”‚  (forge_ai/gui/tabs/chat_tab.py)
    â”‚ OR API Endpoint â”‚  (forge_ai/comms/api_server.py)
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Tool Router    â”‚  (forge_ai/core/tool_router.py)
    â”‚  "Is this a     â”‚   
    â”‚   tool request?"â”‚   
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
      â”‚             â”‚
      â–¼             â–¼
  [TOOL]        [CHAT]
      â”‚             â”‚
      â–¼             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Tool    â”‚   â”‚ Tokenizer   â”‚  (forge_ai/core/tokenizer.py)
    â”‚Executor â”‚   â”‚textâ†’numbers â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
         â”‚               â”‚
         â”‚               â–¼
         â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚         â”‚   Model     â”‚  (forge_ai/core/model.py)
         â”‚         â”‚   Forge     â”‚
         â”‚         â”‚  (forward)  â”‚
         â”‚         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
         â”‚                â”‚
         â”‚                â–¼
         â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚         â”‚ Inference   â”‚  (forge_ai/core/inference.py)
         â”‚         â”‚ ForgeEngine â”‚
         â”‚         â”‚ (sampling)  â”‚
         â”‚         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
         â”‚                â”‚
         â”‚                â–¼
         â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚         â”‚ Tokenizer   â”‚
         â”‚         â”‚numbersâ†’text â”‚
         â”‚         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
         â”‚                â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Memory Manager        â”‚  (forge_ai/memory/manager.py)
    â”‚   Save to history       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Response to User      â”‚
    â”‚   + Optional TTS        â”‚  (forge_ai/voice/)
    â”‚   + Avatar reaction     â”‚  (forge_ai/avatar/)
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


================================================================================
                    END OF CONNECTION MAP
================================================================================

USE THIS MAP TO:
  1. Trace bugs - follow the flow to find where things break
  2. Add features - see where to hook in new code
  3. Understand architecture - see the big picture
  4. Refactor safely - know what depends on what

================================================================================
