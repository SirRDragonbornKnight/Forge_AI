{% extends "base.html" %}

{% block title %}Memory - Enigma Engine{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/components.css') }}">
{% endblock %}

{% block content %}
<div class="memory-container">
    <h2>Memory and Learning</h2>
    
    <div class="memory-stats">
        <div class="stat-card">
            <h3>Total Memories</h3>
            <p id="memory-count">0</p>
        </div>
        <div class="stat-card">
            <h3>Conversations</h3>
            <p id="conversation-count">0</p>
        </div>
        <div class="stat-card">
            <h3>Important Items</h3>
            <p id="important-count">0</p>
        </div>
    </div>
    
    <div class="add-memory-section">
        <h3>Add New Memory</h3>
        <textarea id="new-memory-text" rows="3" placeholder="What should the AI remember?"></textarea>
        <div class="memory-importance">
            <label for="memory-importance">
                Importance: <span id="importance-value">0.5</span>
            </label>
            <input type="range" id="memory-importance" min="0" max="1" step="0.1" value="0.5">
        </div>
        <button id="add-memory-btn" class="btn btn-primary">Add Memory</button>
    </div>
    
    <div class="memory-controls">
        <h3>Memories</h3>
        <div class="sort-controls">
            <label>Sort by:</label>
            <select id="sort-by">
                <option value="date">Date</option>
                <option value="importance">Importance</option>
                <option value="source">Source</option>
            </select>
            <button id="refresh-btn" class="btn btn-secondary">Refresh</button>
        </div>
    </div>
    
    <div class="memories-list" id="memories-list">
        <p class="no-memories">No memories yet. Add your first memory above!</p>
    </div>
    
    <div class="conversations-section">
        <h3>Conversation History</h3>
        <div class="conversations-list" id="conversations-list">
            <p class="no-conversations">No conversations saved yet.</p>
        </div>
    </div>
    
    <div class="ai-learning-section">
        <h3>AI's Favorite Topics</h3>
        <div class="topic-tags" id="favorite-topics">
            <span class="tag">Loading...</span>
        </div>
        
        <h3>Topics AI Avoids</h3>
        <div class="topic-tags" id="avoided-topics">
            <span class="tag tag-avoid">Loading...</span>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/memory.js') }}"></script>
{% endblock %}
